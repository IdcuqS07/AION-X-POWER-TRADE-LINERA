#!/bin/bash

echo "üîÑ Testing AI Explainer Sync with Dashboard Signal..."
echo ""
echo "‚úÖ Changes deployed:"
echo "   - AI Explainer now reads coin from URL parameter (?coin=BTC)"
echo "   - Dashboard updates AI Explainer link when coin is selected"
echo "   - Both use same AIExplainer engine for consistent analysis"
echo ""
echo "üîç How to Test Sync:"
echo ""
echo "1Ô∏è‚É£  Open Dashboard:"
echo "   http://152.42.199.50/"
echo ""
echo "2Ô∏è‚É£  Select a coin (e.g., ETH):"
echo "   - Click on ETH button"
echo "   - Notice AI Explainer link updates"
echo ""
echo "3Ô∏è‚É£  Generate Signal:"
echo "   - Click 'Generate Signal'"
echo "   - Note the signal: BUY/SELL/HOLD"
echo "   - Note confidence: e.g., 75.3%"
echo "   - Note risk score: e.g., 45/100"
echo ""
echo "4Ô∏è‚É£  Open AI Explainer:"
echo "   - Click 'üß† AI Explainer' button"
echo "   - Should open: http://152.42.199.50/ai-explainer.html?coin=ETH"
echo "   - ETH should be selected automatically"
echo ""
echo "5Ô∏è‚É£  Verify Sync:"
echo "   - Signal should match (BUY/SELL/HOLD)"
echo "   - Confidence should be similar (¬±2% due to timing)"
echo "   - Risk score should be similar (¬±5 points)"
echo "   - RSI, MACD, MA, BB values should match"
echo ""
echo "üí° Why might values differ slightly?"
echo "   - Market data updates every 30 seconds"
echo "   - Price history is generated with slight randomness"
echo "   - But overall signal direction should be consistent"
echo ""
echo "üéØ Expected Behavior:"
echo "   ‚úÖ Same coin selected in both pages"
echo "   ‚úÖ Same signal direction (BUY/SELL/HOLD)"
echo "   ‚úÖ Similar confidence and risk scores"
echo "   ‚úÖ Same technical indicator values"
echo ""
echo "üìç Test URLs:"
echo "   Dashboard: http://152.42.199.50/"
echo "   AI Explainer (BTC): http://152.42.199.50/ai-explainer.html?coin=BTC"
echo "   AI Explainer (ETH): http://152.42.199.50/ai-explainer.html?coin=ETH"
echo "   AI Explainer (SOL): http://152.42.199.50/ai-explainer.html?coin=SOL"
echo "   AI Explainer (BNB): http://152.42.199.50/ai-explainer.html?coin=BNB"
