<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI POWER TRADE - Linera Edition</title>
    <link rel="stylesheet" href="/src/style.css">
    <script>
        // Enable WASM debug logging
        window.RUST_LOG = 'debug';
        localStorage.setItem('RUST_LOG', 'debug');
        
        // Enable verbose console logging
        if (typeof console !== 'undefined') {
            console.log('üîß WASM Debug Mode Enabled');
            console.log('   RUST_LOG:', window.RUST_LOG);
        }
    </script>
</head>
<body>
    <div id="app">
        <div class="container">
            <!-- Header -->
            <header class="header">
                <div class="header-left">
                    <h1>AI Power Trade</h1>
                    <p>Professional Trading Platform ‚Ä¢ Powered by Linera</p>
                </div>
                <div class="header-right">
                    <button class="btn-connect" id="btn-connect-header">
                        <span class="wallet-icon">üíº</span>
                        <span class="wallet-text" id="wallet-button-text">Connect Wallet</span>
                    </button>
                </div>
            </header>
            
            <div id="global-status" class="status info" style="margin-bottom: 20px;">Initializing...</div>
            
            <!-- Wallet Dropdown -->
            <div class="wallet-dropdown hidden" id="wallet-dropdown">
                <div class="wallet-dropdown-content">
                    <!-- Not Connected State -->
                    <div id="dropdown-not-connected" class="dropdown-section">
                        <div class="dropdown-header">
                            <div class="dropdown-icon">üíº</div>
                            <h3>Connect Wallet</h3>
                        </div>
                        <p class="dropdown-description">Create a blockchain wallet to start trading</p>
                        <button class="dropdown-btn dropdown-btn-primary" id="dropdown-create-wallet">
                            Create New Wallet
                        </button>
                        <div class="dropdown-divider">
                            <span>or</span>
                        </div>
                        <button class="dropdown-btn dropdown-btn-secondary" id="dropdown-import-wallet-notconnected">
                            üì• Import Existing Wallet
                        </button>
                        <div class="dropdown-footer">
                            <span class="network-badge">üü¢ Linera Testnet Conway</span>
                        </div>
                    </div>
                    
                    <!-- Connected State -->
                    <div id="dropdown-connected" class="dropdown-section hidden">
                        <div class="dropdown-header">
                            <div class="dropdown-icon success">‚úÖ</div>
                            <h3>Wallet Connected</h3>
                        </div>
                        <div class="wallet-details">
                            <div class="wallet-detail-item">
                                <span class="detail-label">Chain ID</span>
                                <div class="detail-value-group">
                                    <span class="detail-value" id="dropdown-chain-id">-</span>
                                    <button class="copy-btn" id="copy-chain-id" title="Copy Chain ID">
                                        <span class="copy-icon">üìã</span>
                                    </button>
                                </div>
                            </div>
                            <div class="wallet-detail-item">
                                <span class="detail-label">Owner</span>
                                <div class="detail-value-group">
                                    <span class="detail-value" id="dropdown-owner">-</span>
                                    <button class="copy-btn" id="copy-owner" title="Copy Owner Address">
                                        <span class="copy-icon">üìã</span>
                                    </button>
                                </div>
                            </div>
                            <div class="wallet-detail-item">
                                <span class="detail-label">Status</span>
                                <span class="detail-value" id="dropdown-status">Connected</span>
                            </div>
                        </div>
                        <div class="wallet-actions">
                            <button class="dropdown-btn dropdown-btn-secondary" id="dropdown-export-wallet">
                                üì¶ Export Wallet
                            </button>
                            <button class="dropdown-btn dropdown-btn-secondary" id="dropdown-import-wallet">
                                üì• Import Wallet
                            </button>
                        </div>
                        <button class="dropdown-btn dropdown-btn-danger" id="dropdown-disconnect">
                            Disconnect
                        </button>
                    </div>
                    
                    <!-- Loading State -->
                    <div id="dropdown-loading" class="dropdown-section hidden">
                        <div class="dropdown-header">
                            <div class="dropdown-icon loading">‚öôÔ∏è</div>
                            <h3>Creating Wallet...</h3>
                        </div>
                        <div class="loading-steps">
                            <div class="loading-step" id="loading-step-1">
                                <div class="loading-dot"></div>
                                <span>Generating keys</span>
                            </div>
                            <div class="loading-step" id="loading-step-2">
                                <div class="loading-dot"></div>
                                <span>Claiming chain</span>
                            </div>
                            <div class="loading-step" id="loading-step-3">
                                <div class="loading-dot"></div>
                                <span>Connecting</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Grid -->
            <div class="main-grid">
                <!-- Left Column -->
                <div style="display: flex; flex-direction: column; gap: 20px;">
                
                <!-- Portfolio Overview Card -->
                <div class="card">
                    <h3 class="card-title">üí∞ Portfolio Overview</h3>
                    <div class="portfolio-grid">
                        <div class="portfolio-item">
                            <div class="portfolio-label">Total Value</div>
                            <div class="portfolio-value price" id="total-value">$0</div>
                        </div>
                        <div class="portfolio-item">
                            <div class="portfolio-label">P&L</div>
                            <div class="portfolio-value price" id="pnl">+$0</div>
                        </div>
                        <div class="portfolio-item">
                            <div class="portfolio-label">Win Rate</div>
                            <div class="portfolio-value" id="win-rate">0%</div>
                        </div>
                        <div class="portfolio-item">
                            <div class="portfolio-label">Total Trades</div>
                            <div class="portfolio-value" id="total-trades">0</div>
                        </div>
                    </div>
                    
                    <!-- Testnet Faucet Section -->
                    <div class="faucet-section" id="faucet-section">
                        <div class="faucet-header">
                            <span class="faucet-icon">üíß</span>
                            <div class="faucet-title">
                                <h4>Testnet Faucet</h4>
                                <p>Get free testnet tokens to start trading</p>
                            </div>
                        </div>
                        <div class="faucet-info">
                            <div class="faucet-detail">
                                <span>Amount:</span>
                                <span class="faucet-amount">100 LINERA</span>
                            </div>
                            <div class="faucet-detail">
                                <span>Status:</span>
                                <span class="faucet-status" id="faucet-status">
                                    <span class="status-dot ready"></span>
                                    <span id="faucet-status-text">Ready to claim</span>
                                </span>
                            </div>
                            <div class="faucet-detail" id="faucet-cooldown-container" style="display: none;">
                                <span>Next claim:</span>
                                <span id="faucet-cooldown">--:--:--</span>
                            </div>
                        </div>
                        <button class="btn btn-faucet" id="btn-claim-faucet">
                            <span class="btn-icon">üíß</span>
                            <span class="btn-text">Claim Test Tokens</span>
                        </button>
                        <div class="faucet-message" id="faucet-message" style="display: none;"></div>
                    </div>
                    
                    <button class="btn" id="btn-refresh-portfolio">üìä Refresh Portfolio</button>
                </div>

                <!-- Market Data Card -->
                <div class="card">
                    <h3 class="card-title">üìä Live Market Data</h3>
                    <div id="market-prices" class="market-horizontal">
                        <div class="market-item">
                            <div class="market-coin">
                                <span class="coin-symbol">‚Çø</span>
                                <span class="coin-pair">BTC/USDT</span>
                            </div>
                            <div class="market-price-group">
                                <div class="price" id="btc-price">$0</div>
                                <div class="market-change" id="btc-change">+0%</div>
                            </div>
                        </div>
                        <div class="market-item">
                            <div class="market-coin">
                                <span class="coin-symbol">Œû</span>
                                <span class="coin-pair">ETH/USDT</span>
                            </div>
                            <div class="market-price-group">
                                <div class="price" id="eth-price">$0</div>
                                <div class="market-change" id="eth-change">+0%</div>
                            </div>
                        </div>
                        <div class="market-item">
                            <div class="market-coin">
                                <span class="coin-symbol">‚óé</span>
                                <span class="coin-pair">SOL/USDT</span>
                            </div>
                            <div class="market-price-group">
                                <div class="price" id="sol-price">$0</div>
                                <div class="market-change" id="sol-change">+0%</div>
                            </div>
                        </div>
                        <div class="market-item">
                            <div class="market-coin">
                                <span class="coin-symbol">‚óÜ</span>
                                <span class="coin-pair">BNB/USDT</span>
                            </div>
                            <div class="market-price-group">
                                <div class="price" id="bnb-price">$0</div>
                                <div class="market-change" id="bnb-change">+0%</div>
                            </div>
                        </div>
                    </div>
                    <button class="btn" id="btn-update-market">üîÑ Update Market Data</button>
                </div>

                <!-- AI Trading Signals Card -->
                <div class="card">
                    <h3 class="card-title">üß† AI Trading Signal</h3>
                    
                    <!-- Horizontal Layout: Signal Info + Controls -->
                    <div class="signal-horizontal-layout" style="display: flex !important; gap: 20px !important;">
                        <!-- Left: Signal Display -->
                        <div class="signal-display-section">
                            <div id="signals-container">
                                <div class="signal signal-hold" id="current-signal">
                                    <div class="signal-header">
                                        <strong id="signal-action">ANALYZING...</strong>
                                        <span id="signal-confidence">0%</span>
                                    </div>
                                    <div class="signal-metric">
                                        <div class="metric-label">
                                            <span>Confidence</span>
                                            <span id="confidence-text">0%</span>
                                        </div>
                                        <div class="progress-bar">
                                            <div class="progress-fill" id="confidence-bar" style="width: 0%"></div>
                                        </div>
                                    </div>
                                    <div class="signal-metric">
                                        <div class="metric-label">
                                            <span>Risk Score</span>
                                            <span id="risk-text">0/100</span>
                                        </div>
                                        <div class="progress-bar">
                                            <div class="progress-fill risk" id="risk-bar" style="width: 0%"></div>
                                        </div>
                                    </div>
                                    <div class="signal-detail">
                                        <span>Target Price</span>
                                        <span id="target-price">$0</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Right: Controls -->
                        <div class="signal-controls-section">
                            <div class="controls-label">Select Coin</div>
                            <div class="coin-selector">
                                <div class="coin-btn active" data-coin="BTC">
                                    <span class="coin-icon">‚Çø</span>
                                    <span>BTC</span>
                                </div>
                                <div class="coin-btn" data-coin="ETH">
                                    <span class="coin-icon">Œû</span>
                                    <span>ETH</span>
                                </div>
                                <div class="coin-btn" data-coin="SOL">
                                    <span class="coin-icon">‚óé</span>
                                    <span>SOL</span>
                                </div>
                                <div class="coin-btn" data-coin="BNB">
                                    <span class="coin-icon">‚óÜ</span>
                                    <span>BNB</span>
                                </div>
                            </div>
                            
                            <div style="display: flex; gap: 10px;">
                                <button class="btn btn-generate-signal" id="btn-signal" style="flex: 1;">
                                    <span class="btn-icon">üéØ</span>
                                    <span>Generate Signal</span>
                                </button>
                                <a href="/ai-explainer.html" id="btn-ai-explainer" class="btn" style="flex: 1; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); text-decoration: none; display: flex; align-items: center; justify-content: center; gap: 8px;">
                                    <span class="btn-icon">üß†</span>
                                    <span>AI Explainer</span>
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- Trade Amount Percentage -->
                    <div class="trade-amount-section">
                        <div class="amount-header">
                            <label>üí∞ Trade Amount</label>
                            <span class="amount-display">
                                <span id="trade-percentage">25</span>% 
                                (<span id="trade-amount-usd">$2,500</span>)
                            </span>
                        </div>
                        <input 
                            type="range" 
                            id="trade-percentage-slider" 
                            min="10" 
                            max="100" 
                            value="25" 
                            step="5"
                            class="percentage-slider"
                        />
                        <div class="percentage-marks">
                            <span>10%</span>
                            <span>25%</span>
                            <span>50%</span>
                            <span>75%</span>
                            <span>100%</span>
                        </div>
                    </div>

                    <!-- Stop Loss & Take Profit -->
                    <div class="risk-management-section" id="risk-management" style="display: none;">
                        <div class="risk-header">
                            <h4>‚öôÔ∏è Risk Management</h4>
                            <span class="risk-ratio" id="risk-ratio">R:R 2:1</span>
                        </div>
                        
                        <!-- Take Profit -->
                        <div class="risk-control">
                            <div class="risk-control-header">
                                <label>üéØ Take Profit (Target)</label>
                                <button class="btn-ai-suggest" id="btn-ai-tp">AI Suggest</button>
                            </div>
                            <div class="risk-input-group">
                                <div class="risk-input">
                                    <label>Price</label>
                                    <input type="number" id="take-profit-price" placeholder="45000" step="0.01" />
                                </div>
                                <div class="risk-input">
                                    <label>Percentage</label>
                                    <div class="percentage-input">
                                        <input type="number" id="take-profit-percent" placeholder="5" step="0.1" min="0" max="100" />
                                        <span>%</span>
                                    </div>
                                </div>
                            </div>
                            <div class="risk-info profit">
                                Profit: +<span id="tp-profit">$0</span>
                            </div>
                        </div>

                        <!-- Stop Loss -->
                        <div class="risk-control">
                            <div class="risk-control-header">
                                <label>üõ°Ô∏è Stop Loss</label>
                                <button class="btn-ai-suggest" id="btn-ai-sl">AI Suggest</button>
                            </div>
                            <div class="risk-input-group">
                                <div class="risk-input">
                                    <label>Price</label>
                                    <input type="number" id="stop-loss-price" placeholder="40000" step="0.01" />
                                </div>
                                <div class="risk-input">
                                    <label>Percentage</label>
                                    <div class="percentage-input">
                                        <input type="number" id="stop-loss-percent" placeholder="3" step="0.1" min="0" max="100" />
                                        <span>%</span>
                                    </div>
                                </div>
                            </div>
                            <div class="risk-info loss">
                                Loss: -<span id="sl-loss">$0</span>
                            </div>
                        </div>
                    </div>

                    <div class="button-group">
                        <button class="btn btn-secondary" id="btn-execute" disabled>Execute AI Trade</button>
                    </div>
                </div>
                </div>
                
                <!-- Right Column -->
                <div style="display: flex; flex-direction: column; gap: 20px;">
                
                <!-- User Wallet Card -->
                <div class="card">
                    <h3 class="card-title">üë§ User Wallet</h3>
                    <div id="wallet-status" class="status info">Ready to connect...</div>
                    
                    <div class="wallet-info" id="wallet-info" style="display: none;">
                        <div><strong>Chain ID:</strong> <span id="chain-id">-</span></div>
                        <div><strong>Owner:</strong> <span id="owner">-</span></div>
                        <div><strong>Status:</strong> <span id="wallet-state">-</span></div>
                        <div><strong>Balance:</strong> <span id="wallet-balance">0 USDT</span></div>
                    </div>

                    <div class="button-group">
                        <button class="btn" id="btn-create">Connect Wallet</button>
                        <button class="btn btn-secondary" id="btn-info">Wallet Info</button>
                        <button class="btn btn-danger" id="btn-reset">Reset</button>
                    </div>
                </div>

                <!-- Trading History Card -->
                <div class="card">
                    <h3 class="card-title">üìã Recent Trades</h3>
                    <div class="trade-history" id="history-container">
                        <div class="status info">No trades yet. Execute your first trade!</div>
                    </div>
                    <button class="btn btn-danger" id="btn-clear-history">Clear History</button>
                </div>

                <!-- Blockchain Trade History Card -->
                <div class="card">
                    <h3 class="card-title">‚õìÔ∏è Blockchain Trade History</h3>
                    <div class="blockchain-stats">
                        <div class="stat-item">
                            <span class="stat-label">Total On-Chain Trades</span>
                            <span class="stat-value" id="blockchain-total-trades">-</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Your Total P&L</span>
                            <span class="stat-value" id="blockchain-total-pnl">-</span>
                        </div>
                    </div>
                    <div class="trade-history" id="blockchain-history-container">
                        <div class="status info">Connect wallet to view blockchain history</div>
                    </div>
                    <button class="btn btn-secondary" id="btn-refresh-blockchain">üîÑ Refresh from Blockchain</button>
                </div>

                <!-- Trading Platform Card -->
                <div class="card">
                    <h3 class="card-title">üè¶ Trading Platform</h3>
                    <div class="platform-selector">
                        <label>Select Your Trading Platform:</label>
                        <select id="defi-platform">
                            <optgroup label="üîó Blockchain Native">
                                <option value="linera">Linera Blockchain</option>
                            </optgroup>
                            <optgroup label="üè¢ Centralized Exchanges (CEX)">
                                <option value="binance">Binance</option>
                                <option value="coinbase">Coinbase Pro</option>
                                <option value="kraken">Kraken</option>
                            </optgroup>
                            <optgroup label="üîÑ Decentralized Exchanges (DEX)">
                                <option value="uniswap">Uniswap V3</option>
                                <option value="pancakeswap">PancakeSwap</option>
                                <option value="sushiswap">SushiSwap</option>
                            </optgroup>
                        </select>
                    </div>
                    <div class="platform-info">
                        <div class="platform-detail">
                            <span>üìä Platform:</span>
                            <span id="platform-name">Linera Blockchain</span>
                        </div>
                        <div class="platform-detail">
                            <span>üåê Network:</span>
                            <span id="platform-network">Linera Mainnet</span>
                        </div>
                        <div class="platform-detail">
                            <span>üí∞ Trading Fees:</span>
                            <span id="platform-fees">~0.01%</span>
                        </div>
                        <div class="platform-detail">
                            <span>üîó Status:</span>
                            <span id="platform-status">Not Connected</span>
                        </div>
                    </div>
                    <button class="btn" id="btn-connect-platform">üîó Connect to Platform</button>
                </div>

                <!-- Linera Network Status Card -->
                <div class="card">
                    <h3 class="card-title">üîó Linera Network</h3>
                    <div class="network-stats">
                        <div class="network-stat">
                            <span>Network Status</span>
                            <span id="network-status">üü¢ Online</span>
                        </div>
                        <div class="network-stat">
                            <span>Active Chains</span>
                            <span id="active-chains">3</span>
                        </div>
                        <div class="network-stat">
                            <span>Block Height</span>
                            <span id="block-height">12,847</span>
                        </div>
                        <div class="network-stat">
                            <span>Applications</span>
                            <span id="deployed-apps">5 Deployed</span>
                        </div>
                    </div>
                    <button class="btn" id="btn-check-network">üîç Check Network Status</button>
                </div>
                </div>
            </div>

            <!-- Wave 7: Interactive Charts & Analytics -->
            <div class="wave7-section" style="margin-top: 30px;">
                <!-- Price Chart Card -->
                <div class="card">
                    <div class="card-header-flex">
                        <h3 class="card-title">üìä Interactive Price Chart</h3>
                        <div class="chart-timeframe-selector">
                            <button class="timeframe-btn" data-timeframe="1m">1m</button>
                            <button class="timeframe-btn" data-timeframe="5m">5m</button>
                            <button class="timeframe-btn" data-timeframe="15m">15m</button>
                            <button class="timeframe-btn active" data-timeframe="1h">1h</button>
                            <button class="timeframe-btn" data-timeframe="4h">4h</button>
                            <button class="timeframe-btn" data-timeframe="1d">1d</button>
                        </div>
                    </div>
                    <div id="price-chart-container" style="width: 100%; height: 500px; background: #1a1a2e; border-radius: 8px;"></div>
                    <div class="chart-controls" style="margin-top: 15px; display: flex; gap: 10px; justify-content: center;">
                        <button class="btn btn-secondary" id="btn-chart-refresh">üîÑ Refresh Chart</button>
                        <button class="btn btn-secondary" id="btn-chart-realtime">‚ñ∂Ô∏è Start Real-Time</button>
                    </div>
                </div>

                <!-- Trade Filter & Export Card -->
                <div class="card" style="margin-top: 20px;">
                    <h3 class="card-title">üîç Filter & Export Trades</h3>
                    
                    <div class="filter-grid">
                        <div class="filter-group">
                            <label>Coin</label>
                            <select id="filter-coin" class="filter-select">
                                <option value="ALL">All Coins</option>
                                <option value="BTC">Bitcoin (BTC)</option>
                                <option value="ETH">Ethereum (ETH)</option>
                                <option value="SOL">Solana (SOL)</option>
                                <option value="BNB">Binance Coin (BNB)</option>
                            </select>
                        </div>

                        <div class="filter-group">
                            <label>Date Range</label>
                            <select id="filter-date" class="filter-select">
                                <option value="all">All Time</option>
                                <option value="today">Today</option>
                                <option value="last7days" selected>Last 7 Days</option>
                                <option value="last30days">Last 30 Days</option>
                                <option value="custom">Custom Range</option>
                            </select>
                        </div>

                        <div class="filter-group">
                            <label>P&L</label>
                            <select id="filter-pnl" class="filter-select">
                                <option value="all">All Trades</option>
                                <option value="profit">Profitable Only</option>
                                <option value="loss">Loss Only</option>
                                <option value="breakeven">Break-even</option>
                            </select>
                        </div>

                        <div class="filter-group">
                            <label>Platform</label>
                            <select id="filter-platform" class="filter-select">
                                <option value="all">All Platforms</option>
                                <option value="linera">Linera Blockchain</option>
                                <option value="binance">Binance CEX</option>
                            </select>
                        </div>

                        <div class="filter-group">
                            <label>Trade Type</label>
                            <select id="filter-type" class="filter-select">
                                <option value="all">All Types</option>
                                <option value="BUY">BUY Only</option>
                                <option value="SELL">SELL Only</option>
                            </select>
                        </div>

                        <div class="filter-group">
                            <label>Search</label>
                            <input type="text" id="filter-search" class="filter-input" placeholder="Search trades..." />
                        </div>
                    </div>

                    <div class="filter-summary" id="filter-summary" style="margin: 15px 0; padding: 10px; background: rgba(255,255,255,0.05); border-radius: 6px; font-size: 14px;">
                        No filters applied
                    </div>

                    <div class="button-group">
                        <button class="btn" id="btn-apply-filter">üîç Apply Filters</button>
                        <button class="btn btn-secondary" id="btn-reset-filter">üîÑ Reset</button>
                        <button class="btn" id="btn-export-csv" style="background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);">üì• Export CSV</button>
                        <button class="btn" id="btn-export-json" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">üì• Export JSON</button>
                    </div>
                </div>

                <!-- Performance Analytics Card -->
                <div class="card" style="margin-top: 20px;">
                    <h3 class="card-title">üìà Performance Analytics</h3>
                    
                    <!-- Overview Metrics -->
                    <div class="analytics-grid">
                        <div class="analytics-card">
                            <div class="analytics-icon">üìä</div>
                            <div class="analytics-label">Total Trades</div>
                            <div class="analytics-value" id="analytics-total-trades">0</div>
                        </div>
                        <div class="analytics-card">
                            <div class="analytics-icon">üí∞</div>
                            <div class="analytics-label">Total P&L</div>
                            <div class="analytics-value" id="analytics-total-pnl">$0.00</div>
                        </div>
                        <div class="analytics-card">
                            <div class="analytics-icon">üéØ</div>
                            <div class="analytics-label">Win Rate</div>
                            <div class="analytics-value" id="analytics-win-rate">0%</div>
                        </div>
                        <div class="analytics-card">
                            <div class="analytics-icon">üìà</div>
                            <div class="analytics-label">Avg P&L</div>
                            <div class="analytics-value" id="analytics-avg-pnl">$0.00</div>
                        </div>
                        <div class="analytics-card">
                            <div class="analytics-icon">üèÜ</div>
                            <div class="analytics-label">Best Trade</div>
                            <div class="analytics-value" id="analytics-best-trade">-</div>
                        </div>
                        <div class="analytics-card">
                            <div class="analytics-icon">üìâ</div>
                            <div class="analytics-label">Worst Trade</div>
                            <div class="analytics-value" id="analytics-worst-trade">-</div>
                        </div>
                    </div>

                    <!-- Performance by Coin -->
                    <div class="analytics-section" style="margin-top: 30px;">
                        <h4 style="margin-bottom: 15px;">üìä Performance by Coin</h4>
                        <div id="analytics-by-coin" class="analytics-table">
                            <div class="status info">No trade data available</div>
                        </div>
                    </div>

                    <!-- Recent Performance -->
                    <div class="analytics-section" style="margin-top: 30px;">
                        <h4 style="margin-bottom: 15px;">‚è±Ô∏è Recent Performance (Last 7 Days)</h4>
                        <div id="analytics-recent" class="analytics-recent-grid">
                            <div class="analytics-recent-item">
                                <span>Trades:</span>
                                <span id="recent-trades">0</span>
                            </div>
                            <div class="analytics-recent-item">
                                <span>P&L:</span>
                                <span id="recent-pnl">$0.00</span>
                            </div>
                            <div class="analytics-recent-item">
                                <span>Win Rate:</span>
                                <span id="recent-winrate">0%</span>
                            </div>
                            <div class="analytics-recent-item">
                                <span>Avg P&L:</span>
                                <span id="recent-avg">$0.00</span>
                            </div>
                        </div>
                    </div>

                    <button class="btn" id="btn-refresh-analytics" style="margin-top: 20px;">üîÑ Refresh Analytics</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Mnemonic Backup Modal -->
    <div class="modal-overlay hidden" id="mnemonic-modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h3>üîê Backup Your Recovery Phrase</h3>
                <button class="modal-close" id="mnemonic-modal-close">√ó</button>
            </div>
            <div class="modal-body">
                <div class="warning-box">
                    <strong>‚ö†Ô∏è IMPORTANT:</strong> Write down these 12 words in order and store them safely. This is the ONLY way to recover your wallet if you lose access.
                </div>
                <div class="mnemonic-display" id="mnemonic-words">
                    <!-- Mnemonic words will be inserted here -->
                </div>
                <div class="mnemonic-actions">
                    <label class="checkbox-label">
                        <input type="checkbox" id="mnemonic-confirmed">
                        <span>I have written down my recovery phrase</span>
                    </label>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="mnemonic-copy-btn">üìã Copy to Clipboard</button>
                <button class="btn" id="mnemonic-continue-btn" disabled>Continue</button>
            </div>
        </div>
    </div>

    <!-- Export Wallet Modal -->
    <div class="modal-overlay hidden" id="export-modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h3>üì¶ Export Wallet</h3>
                <button class="modal-close" id="export-modal-close">√ó</button>
            </div>
            <div class="modal-body">
                <p class="modal-description">Create an encrypted backup of your wallet. You'll need a password to protect this backup.</p>
                <div class="input-group">
                    <label>Backup Password</label>
                    <input type="password" id="export-password" placeholder="Enter a strong password" />
                </div>
                <div class="input-group">
                    <label>Confirm Password</label>
                    <input type="password" id="export-password-confirm" placeholder="Re-enter password" />
                </div>
                <div class="export-message" id="export-message" style="display: none;"></div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="export-cancel-btn">Cancel</button>
                <button class="btn" id="export-confirm-btn">Export Wallet</button>
            </div>
        </div>
    </div>

    <!-- Import Wallet Modal -->
    <div class="modal-overlay hidden" id="import-modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h3>üì• Import Wallet</h3>
                <button class="modal-close" id="import-modal-close">√ó</button>
            </div>
            <div class="modal-body">
                <p class="modal-description">Restore your wallet from an encrypted backup file.</p>
                <div class="input-group">
                    <label>Backup File</label>
                    <input type="file" id="import-file" accept=".json" />
                </div>
                <div class="input-group">
                    <label>Backup Password</label>
                    <input type="password" id="import-password" placeholder="Enter backup password" />
                </div>
                <div class="import-message" id="import-message" style="display: none;"></div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="import-cancel-btn">Cancel</button>
                <button class="btn" id="import-confirm-btn">Import Wallet</button>
            </div>
        </div>
    </div>

    <!-- Trade Confirmation Modal -->
    <div class="modal-overlay hidden" id="trade-confirm-modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-icon">‚ö°</div>
                <h3>Confirm Trade Execution</h3>
                <button class="modal-close" id="trade-confirm-modal-close">√ó</button>
            </div>
            <div class="modal-body">
                <p class="modal-description">Review your trade details before execution</p>
                
                <div class="trade-confirm-details">
                    <div class="trade-detail-row">
                        <span class="trade-detail-label">Signal</span>
                        <span class="trade-detail-value" id="confirm-signal">-</span>
                    </div>
                    <div class="trade-detail-row">
                        <span class="trade-detail-label">Amount</span>
                        <span class="trade-detail-value" id="confirm-amount">-</span>
                    </div>
                    <div class="trade-detail-row">
                        <span class="trade-detail-label">Price</span>
                        <span class="trade-detail-value" id="confirm-price">-</span>
                    </div>
                    <div class="trade-detail-row">
                        <span class="trade-detail-label">Confidence</span>
                        <span class="trade-detail-value" id="confirm-confidence">-</span>
                    </div>
                    <div class="trade-detail-row">
                        <span class="trade-detail-label">Risk Score</span>
                        <span class="trade-detail-value" id="confirm-risk">-</span>
                    </div>
                    
                    <div class="trade-detail-divider"></div>
                    
                    <div class="trade-detail-section">
                        <div class="trade-detail-section-title">Risk Management</div>
                        <div class="trade-detail-row">
                            <span class="trade-detail-label">Stop Loss</span>
                            <span class="trade-detail-value" id="confirm-stop-loss">-</span>
                        </div>
                        <div class="trade-detail-row">
                            <span class="trade-detail-label">Take Profit</span>
                            <span class="trade-detail-value" id="confirm-take-profit">-</span>
                        </div>
                    </div>
                </div>
                
                <div class="warning-box" style="margin-top: 20px;">
                    <strong>‚ö†Ô∏è IMPORTANT:</strong> This transaction will be executed on the Linera blockchain and is irreversible. Please review all details carefully.
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="trade-confirm-cancel-btn">Cancel</button>
                <button class="btn btn-primary" id="trade-confirm-execute-btn">Confirm & Execute Trade</button>
            </div>
        </div>
    </div>

    <!-- Binance Execution Status Overlay -->
    <div class="modal-overlay hidden" id="binance-execution-overlay">
        <div class="binance-execution-card">
            <div class="binance-header">
                <div class="binance-logo-large">üü°</div>
                <h3>Executing on Binance</h3>
                <p class="binance-subtitle">CEX ‚Ä¢ High Liquidity ‚Ä¢ 0.1% Fee</p>
            </div>
            <div class="execution-status-content">
                <div class="status-message" id="binance-status-message">
                    Placing order...
                </div>
                <div class="progress-bar-container">
                    <div class="progress-bar-fill" id="binance-progress-fill"></div>
                </div>
                <div class="status-spinner"></div>
            </div>
        </div>
    </div>

    <script type="module" src="/src/main.js"></script>
</body>
</html>
