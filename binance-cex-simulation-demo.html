<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Binance CEX Trading Simulation - AI Power Trade</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #0B0E11 0%, #1E2329 100%);
            color: #EAECEF;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 2rem;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #F0B90B 0%, #FCD535 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .header p {
            color: #848E9C;
            font-size: 0.9rem;
        }

        .binance-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(240, 185, 11, 0.1);
            border: 1px solid rgba(240, 185, 11, 0.3);
            padding: 8px 16px;
            border-radius: 20px;
            margin-top: 10px;
            font-size: 0.875rem;
        }

        .binance-logo {
            width: 20px;
            height: 20px;
            background: #F0B90B;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #0B0E11;
            font-size: 0.75rem;
        }

        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .card {
            background: #1E2329;
            border: 1px solid #2B3139;
            border-radius: 12px;
            padding: 24px;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .card-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: #EAECEF;
        }

        .balance-display {
            background: #0B0E11;
            border: 1px solid #2B3139;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 16px;
        }

        .balance-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #2B3139;
        }

        .balance-item:last-child {
            border-bottom: none;
        }

        .balance-label {
            color: #848E9C;
            font-size: 0.875rem;
        }

        .balance-value {
            color: #EAECEF;
            font-weight: 600;
            font-size: 1rem;
        }

        .balance-total {
            margin-top: 12px;
            padding-top: 12px;
            border-top: 2px solid #2B3139;
        }

        .balance-total .balance-value {
            color: #F0B90B;
            font-size: 1.25rem;
        }

        .signal-display {
            background: linear-gradient(135deg, rgba(14, 203, 129, 0.1) 0%, rgba(14, 203, 129, 0.05) 100%);
            border: 1px solid rgba(14, 203, 129, 0.3);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .signal-display.sell {
            background: linear-gradient(135deg, rgba(246, 70, 93, 0.1) 0%, rgba(246, 70, 93, 0.05) 100%);
            border-color: rgba(246, 70, 93, 0.3);
        }

        .signal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .signal-type {
            font-size: 1.5rem;
            font-weight: 700;
            color: #0ECB81;
        }

        .signal-type.sell {
            color: #F6465D;
        }

        .signal-details {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
        }

        .signal-detail {
            text-align: center;
        }

        .signal-detail-label {
            color: #848E9C;
            font-size: 0.75rem;
            margin-bottom: 4px;
        }

        .signal-detail-value {
            color: #EAECEF;
            font-weight: 600;
            font-size: 1rem;
        }

        .btn {
            width: 100%;
            padding: 14px 24px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, #F0B90B 0%, #FCD535 100%);
            color: #0B0E11;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(240, 185, 11, 0.3);
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: #2B3139;
            color: #EAECEF;
            margin-top: 12px;
        }

        .btn-secondary:hover {
            background: #363D47;
        }

        .execution-status {
            background: #0B0E11;
            border: 1px solid #2B3139;
            border-radius: 8px;
            padding: 16px;
            margin-top: 16px;
            display: none;
        }

        .execution-status.active {
            display: block;
        }

        .status-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .status-spinner {
            width: 20px;
            height: 20px;
            border: 3px solid #2B3139;
            border-top-color: #F0B90B;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .status-text {
            color: #F0B90B;
            font-weight: 600;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: #2B3139;
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #F0B90B 0%, #FCD535 100%);
            width: 0%;
            transition: width 0.3s ease;
        }

        .trade-summary {
            background: rgba(14, 203, 129, 0.1);
            border: 1px solid rgba(14, 203, 129, 0.3);
            border-radius: 8px;
            padding: 20px;
            margin-top: 16px;
            display: none;
        }

        .trade-summary.active {
            display: block;
        }

        .trade-summary.sell {
            background: rgba(246, 70, 93, 0.1);
            border-color: rgba(246, 70, 93, 0.3);
        }

        .summary-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: #0ECB81;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .summary-title.sell {
            color: #F6465D;
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .summary-row:last-child {
            border-bottom: none;
        }

        .summary-label {
            color: #848E9C;
            font-size: 0.875rem;
        }

        .summary-value {
            color: #EAECEF;
            font-weight: 600;
            font-size: 0.875rem;
        }

        .trade-history {
            margin-top: 20px;
        }

        .history-item {
            background: #0B0E11;
            border: 1px solid #2B3139;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 12px;
        }

        .history-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .history-type {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            font-size: 1rem;
        }

        .history-type.buy {
            color: #0ECB81;
        }

        .history-type.sell {
            color: #F6465D;
        }

        .history-time {
            color: #848E9C;
            font-size: 0.75rem;
        }

        .history-details {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
            font-size: 0.875rem;
        }

        .history-detail {
            color: #848E9C;
        }

        .history-detail span {
            color: #EAECEF;
            font-weight: 500;
        }

        .platform-tag {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            background: rgba(240, 185, 11, 0.1);
            border: 1px solid rgba(240, 185, 11, 0.3);
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            color: #F0B90B;
        }

        @media (max-width: 768px) {
            .grid {
                grid-template-columns: 1fr;
            }

            .signal-details {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸš€ AI Power Trade</h1>
            <p>Binance CEX Trading Simulation</p>
            <div class="binance-badge">
                <div class="binance-logo">B</div>
                <span>Powered by Binance</span>
            </div>
        </div>

        <div class="grid">
            <!-- Portfolio Card -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">ðŸ’¼ Portfolio</h2>
                </div>
                <div class="balance-display">
                    <div class="balance-item">
                        <span class="balance-label">USDT</span>
                        <span class="balance-value" id="balance-usdt">1,000.00</span>
                    </div>
                    <div class="balance-item">
                        <span class="balance-label">BTC</span>
                        <span class="balance-value" id="balance-btc">0.00000</span>
                    </div>
                    <div class="balance-item">
                        <span class="balance-label">ETH</span>
                        <span class="balance-value" id="balance-eth">0.0000</span>
                    </div>
                    <div class="balance-item balance-total">
                        <span class="balance-label">Total Value</span>
                        <span class="balance-value" id="total-value">$1,000.00</span>
                    </div>
                </div>
                <button class="btn btn-secondary" onclick="resetBalance()">ðŸ”„ Reset Balance</button>
            </div>

            <!-- AI Signal Card -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">ðŸ§  AI Signal</h2>
                </div>
                <div class="signal-display" id="signal-display">
                    <div class="signal-header">
                        <div>
                            <div class="signal-type" id="signal-type">BUY</div>
                            <div style="color: #848E9C; font-size: 0.875rem; margin-top: 4px;">BTC/USDT</div>
                        </div>
                    </div>
                    <div class="signal-details">
                        <div class="signal-detail">
                            <div class="signal-detail-label">Price</div>
                            <div class="signal-detail-value" id="signal-price">$42,150.00</div>
                        </div>
                        <div class="signal-detail">
                            <div class="signal-detail-label">Confidence</div>
                            <div class="signal-detail-value" id="signal-confidence">75.5%</div>
                        </div>
                        <div class="signal-detail">
                            <div class="signal-detail-label">Risk Score</div>
                            <div class="signal-detail-value" id="signal-risk">22/100</div>
                        </div>
                    </div>
                </div>

                <button class="btn btn-primary" id="execute-btn" onclick="executeTrade()">
                    âš¡ Execute Trade on Binance
                </button>

                <!-- Execution Status -->
                <div class="execution-status" id="execution-status">
                    <div class="status-header">
                        <div class="status-spinner"></div>
                        <div class="status-text" id="status-text">Placing order...</div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                </div>

                <!-- Trade Summary -->
                <div class="trade-summary" id="trade-summary">
                    <div class="summary-title">
                        <span>âœ…</span>
                        <span>Trade Executed Successfully</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">Platform</span>
                        <span class="summary-value">Binance (CEX)</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">Execution Price</span>
                        <span class="summary-value" id="summary-price">-</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">Amount</span>
                        <span class="summary-value" id="summary-amount">-</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">Fee (0.1%)</span>
                        <span class="summary-value" id="summary-fee">-</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">Slippage</span>
                        <span class="summary-value" id="summary-slippage">-</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">Execution Time</span>
                        <span class="summary-value" id="summary-time">-</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Trade History -->
        <div class="card">
            <div class="card-header">
                <h2 class="card-title">ðŸ“Š Trade History</h2>
            </div>
            <div class="trade-history" id="trade-history">
                <p style="color: #848E9C; text-align: center; padding: 20px;">No trades yet. Execute your first trade!</p>
            </div>
        </div>
    </div>

    <script>
        // Portfolio state
        let portfolio = {
            USDT: 1000,
            BTC: 0,
            ETH: 0
        };

        // Current signal
        let currentSignal = {
            type: 'BUY',
            coin: 'BTC',
            price: 42150,
            confidence: 75.5,
            risk: 22
        };

        // Trade history
        let tradeHistory = [];

        // Update portfolio display
        function updatePortfolioDisplay() {
            document.getElementById('balance-usdt').textContent = portfolio.USDT.toFixed(2);
            document.getElementById('balance-btc').textContent = portfolio.BTC.toFixed(5);
            document.getElementById('balance-eth').textContent = portfolio.ETH.toFixed(4);
            
            // Calculate total value (simplified - using current signal price)
            const totalValue = portfolio.USDT + (portfolio.BTC * currentSignal.price);
            document.getElementById('total-value').textContent = '$' + totalValue.toFixed(2);
        }

        // Reset balance
        function resetBalance() {
            portfolio = { USDT: 1000, BTC: 0, ETH: 0 };
            tradeHistory = [];
            updatePortfolioDisplay();
            updateTradeHistory();
            alert('âœ… Balance reset to $1,000 USDT');
        }

        // Generate random signal
        function generateSignal() {
            const types = ['BUY', 'SELL'];
            const coins = ['BTC', 'ETH'];
            const prices = { BTC: 42150, ETH: 2450 };
            
            const type = types[Math.floor(Math.random() * types.length)];
            const coin = coins[Math.floor(Math.random() * coins.length)];
            
            currentSignal = {
                type: type,
                coin: coin,
                price: prices[coin] * (1 + (Math.random() - 0.5) * 0.02),
                confidence: 60 + Math.random() * 30,
                risk: 10 + Math.random() * 40
            };

            // Update UI
            const signalDisplay = document.getElementById('signal-display');
            signalDisplay.className = 'signal-display ' + (type === 'SELL' ? 'sell' : '');
            
            const signalType = document.getElementById('signal-type');
            signalType.textContent = type;
            signalType.className = 'signal-type ' + (type === 'SELL' ? 'sell' : '');
            
            document.getElementById('signal-price').textContent = '$' + currentSignal.price.toFixed(2);
            document.getElementById('signal-confidence').textContent = currentSignal.confidence.toFixed(1) + '%';
            document.getElementById('signal-risk').textContent = Math.round(currentSignal.risk) + '/100';
        }

        // Execute trade with Binance simulation
        async function executeTrade() {
            const executeBtn = document.getElementById('execute-btn');
            const executionStatus = document.getElementById('execution-status');
            const tradeSummary = document.getElementById('trade-summary');
            const statusText = document.getElementById('status-text');
            const progressFill = document.getElementById('progress-fill');

            // Disable button
            executeBtn.disabled = true;

            // Hide previous summary
            tradeSummary.classList.remove('active');

            // Show execution status
            executionStatus.classList.add('active');

            const startTime = Date.now();

            try {
                // Phase 1: Placing order (100-200ms)
                statusText.textContent = 'ðŸ“¤ Placing order on Binance...';
                progressFill.style.width = '25%';
                await delay(randomBetween(100, 200));

                // Phase 2: Order matching (50-100ms)
                statusText.textContent = 'ðŸ”„ Matching order...';
                progressFill.style.width = '50%';
                await delay(randomBetween(50, 100));

                // Phase 3: Executing (50-100ms)
                statusText.textContent = 'âš¡ Executing trade...';
                progressFill.style.width = '75%';
                await delay(randomBetween(50, 100));

                // Calculate execution details
                const tradeAmount = 500; // $500 per trade
                const slippage = calculateSlippage(tradeAmount);
                const executionPrice = currentSignal.price * (1 + slippage);
                const fee = tradeAmount * 0.001; // 0.1% Binance fee
                const netAmount = tradeAmount - fee;
                const coinAmount = netAmount / executionPrice;

                // Phase 4: Confirming (50ms)
                statusText.textContent = 'âœ… Order filled!';
                progressFill.style.width = '100%';
                await delay(50);

                const executionTime = ((Date.now() - startTime) / 1000).toFixed(2);

                // Update balances
                if (currentSignal.type === 'BUY') {
                    portfolio.USDT -= tradeAmount;
                    portfolio[currentSignal.coin] += coinAmount;
                } else {
                    // For SELL, reverse the operation
                    portfolio.USDT += netAmount;
                    portfolio[currentSignal.coin] -= coinAmount;
                }

                updatePortfolioDisplay();

                // Show trade summary
                executionStatus.classList.remove('active');
                tradeSummary.classList.add('active');
                tradeSummary.className = 'trade-summary active ' + (currentSignal.type === 'SELL' ? 'sell' : '');
                
                const summaryTitle = tradeSummary.querySelector('.summary-title');
                summaryTitle.className = 'summary-title ' + (currentSignal.type === 'SELL' ? 'sell' : '');

                document.getElementById('summary-price').textContent = '$' + executionPrice.toFixed(2);
                document.getElementById('summary-amount').textContent = coinAmount.toFixed(5) + ' ' + currentSignal.coin;
                document.getElementById('summary-fee').textContent = '$' + fee.toFixed(2);
                document.getElementById('summary-slippage').textContent = (slippage * 100).toFixed(3) + '%';
                document.getElementById('summary-time').textContent = executionTime + 's';

                // Add to history
                tradeHistory.unshift({
                    type: currentSignal.type,
                    coin: currentSignal.coin,
                    amount: coinAmount,
                    price: executionPrice,
                    fee: fee,
                    slippage: slippage,
                    time: new Date(),
                    executionTime: executionTime
                });

                updateTradeHistory();

                // Generate new signal after 2 seconds
                setTimeout(() => {
                    generateSignal();
                    tradeSummary.classList.remove('active');
                    executeBtn.disabled = false;
                    progressFill.style.width = '0%';
                }, 2000);

            } catch (error) {
                console.error('Trade execution failed:', error);
                executionStatus.classList.remove('active');
                executeBtn.disabled = false;
                alert('âŒ Trade execution failed. Please try again.');
            }
        }

        // Calculate slippage based on trade amount
        function calculateSlippage(amount) {
            const baseSlippage = 0.0001; // 0.01%
            if (amount > 10000) return 0.0002;
            if (amount > 5000) return 0.00015;
            return baseSlippage;
        }

        // Update trade history display
        function updateTradeHistory() {
            const historyContainer = document.getElementById('trade-history');
            
            if (tradeHistory.length === 0) {
                historyContainer.innerHTML = '<p style="color: #848E9C; text-align: center; padding: 20px;">No trades yet. Execute your first trade!</p>';
                return;
            }

            historyContainer.innerHTML = tradeHistory.map(trade => `
                <div class="history-item">
                    <div class="history-header">
                        <div class="history-type ${trade.type.toLowerCase()}">
                            <span>${trade.type === 'BUY' ? 'ðŸŸ¢' : 'ðŸ”´'}</span>
                            <span>${trade.type} ${trade.coin}</span>
                            <span class="platform-tag">
                                <div class="binance-logo" style="width: 12px; height: 12px; font-size: 0.6rem;">B</div>
                                Binance
                            </span>
                        </div>
                        <div class="history-time">${formatTime(trade.time)}</div>
                    </div>
                    <div class="history-details">
                        <div class="history-detail">Amount: <span>${trade.amount.toFixed(5)} ${trade.coin}</span></div>
                        <div class="history-detail">Price: <span>$${trade.price.toFixed(2)}</span></div>
                        <div class="history-detail">Fee: <span>$${trade.fee.toFixed(2)} (0.1%)</span></div>
                        <div class="history-detail">Slippage: <span>${(trade.slippage * 100).toFixed(3)}%</span></div>
                        <div class="history-detail">Execution: <span>${trade.executionTime}s</span></div>
                        <div class="history-detail">Status: <span style="color: #0ECB81;">âœ… Filled</span></div>
                    </div>
                </div>
            `).join('');
        }

        // Helper functions
        function delay(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        function randomBetween(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function formatTime(date) {
            const now = new Date();
            const diff = Math.floor((now - date) / 1000); // seconds
            
            if (diff < 60) return 'Just now';
            if (diff < 3600) return Math.floor(diff / 60) + ' minutes ago';
            if (diff < 86400) return Math.floor(diff / 3600) + ' hours ago';
            return Math.floor(diff / 86400) + ' days ago';
        }

        // Initialize
        updatePortfolioDisplay();
        generateSignal();
    </script>
</body>
</html>
